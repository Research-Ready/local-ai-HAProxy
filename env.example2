############################
# GLOBAL
############################
TZ=Europe/Amsterdam
PUBLIC_IP=94.142.241.156
DOMAIN_SUFFIX=ha.valuechainhackers.xyz

# Per-service canonical hostnames (used by app links, webhooks, cookies)
OPENWEBUI_DOMAIN=openwebui.${DOMAIN_SUFFIX}
N8N_DOMAIN=n8n.${DOMAIN_SUFFIX}
FLOWISE_DOMAIN=flowise.${DOMAIN_SUFFIX}
LANGFUSE_DOMAIN=langfuse.${DOMAIN_SUFFIX}
SEARCH_DOMAIN=search.${DOMAIN_SUFFIX}
QDRANT_DOMAIN=qdrant.${DOMAIN_SUFFIX}
NEO4J_DOMAIN=neo4j.${DOMAIN_SUFFIX}
SUPABASE_STUDIO_DOMAIN=supabase.${DOMAIN_SUFFIX}
SUPABASE_API_DOMAIN=supabase-api.${DOMAIN_SUFFIX}

############################
# OPEN WEBUI
############################
WEBUI_PORT=8080
WEBUI_ADMIN_EMAIL=admin@${DOMAIN_SUFFIX}
WEBUI_ADMIN_PASSWORD=change-me-now
# Model backends
OLLAMA_API_BASE_URL=http://ollama:11434
LOCALAI_BASE_URL=http://localai:8080
QDRANT_URL=http://qdrant:6333
LANGFUSE_HOST=http://langfuse-web:3000
N8N_URL=http://n8n:5678
# Optional: route to OpenRouter
OPENROUTER_API_KEY=
OPENAI_API_KEY=${OPENROUTER_API_KEY}
OPENAI_API_BASE_URL=https://openrouter.ai

############################
# OPEN WEBUI PIPELINES
############################
PIPELINES_API_KEY=0p3n-w3bu!

############################
# OLLAMA / LOCALAI
############################
LOCALAI_MODELS_PATH=/models
# GPU optional:
# NVIDIA_VISIBLE_DEVICES=all
# NVIDIA_DRIVER_CAPABILITIES=compute,utility

############################
# QDRANT
############################
# Enable if you want API auth:
# QDRANT__SERVICE__API_KEY=please-change-me
QDRANT__SERVICE__GRPC_PORT=6334
QDRANT__LOG__LEVEL=INFO

############################
# n8n
############################
N8N_HOST=${N8N_DOMAIN}
N8N_PROTOCOL=https
WEBHOOK_URL=https://${N8N_DOMAIN}/
# Encrypts creds in DB – MUST set in prod:
N8N_ENCRYPTION_KEY=$(openssl rand -hex 32)
# Personal Access Token (create in n8n UI → Settings → Personal Access Tokens)
N8N_API_KEY=
# Optional SMTP (invites, password reset)
N8N_SMTP_HOST=
N8N_SMTP_PORT=587
N8N_SMTP_USER=
N8N_SMTP_PASS=
N8N_SMTP_SENDER=no-reply@${DOMAIN_SUFFIX}

############################
# FLOWISE
############################
FLOWISE_USER=admin
FLOWISE_PASS=admin
FLOWISE_PORT=3000
FLOWISE_BASE_URL=https://${FLOWISE_DOMAIN}

############################
# LANGFUSE
############################
LANGFUSE_DB_PASSWORD=langfuse
LANGFUSE_NEXTAUTH_SECRET=$(openssl rand -hex 32)
LANGFUSE_DISABLE_TELEMETRY=1
NEXTAUTH_URL=https://${LANGFUSE_DOMAIN}

############################
# SEARXNG
############################
SEARXNG_BASE_URL=https://${SEARCH_DOMAIN}/

############################
# NEO4J
############################
NEO4J_PASSWORD=please-change-me
NEO4J_PAGECACHE=1G
NEO4J_HEAP_MIN=1G
NEO4J_HEAP_MAX=2G
NEO4J_BROWSER_URL=https://${NEO4J_DOMAIN}
# If Browser can’t connect, ensure Bolt 7687 is reachable via HAProxy or same host.

############################
# SUPABASE (SELF-HOSTED)
# If you enable the Supabase services in your compose, set these.
############################
# Base external URLs used by Studio + services
SUPABASE_PUBLIC_URL=https://${SUPABASE_API_DOMAIN}
SUPABASE_STUDIO_PUBLIC_URL=https://${SUPABASE_STUDIO_DOMAIN}

# Core secrets/keys (generate before first boot; don’t change later without a reset)
# JWT secret used by GoTrue/PostgREST:
SUPABASE_JWT_SECRET=$(openssl rand -hex 32)

# Postgres
SUPABASE_DB_USER=postgres
SUPABASE_DB_PASSWORD=please-change-me
SUPABASE_DB_NAME=postgres

# GoTrue (Auth)
GOTRUE_SITE_URL=${SUPABASE_PUBLIC_URL}
GOTRUE_URI_ALLOW_LIST=${SUPABASE_STUDIO_PUBLIC_URL},${SUPABASE_PUBLIC_URL},https://${OPENWEBUI_DOMAIN},https://${N8N_DOMAIN}
GOTRUE_EXTERNAL_EMAIL_ENABLED=true
# Email provider (optional):
GOTRUE_SMTP_HOST=
GOTRUE_SMTP_PORT=587
GOTRUE_SMTP_USER=
GOTRUE_SMTP_PASS=
GOTRUE_SMTP_ADMIN_EMAIL=admin@${DOMAIN_SUFFIX}
GOTRUE_SMTP_SENDER_NAME=Supabase

# PostgREST
POSTGREST_JWT_SECRET=${SUPABASE_JWT_SECRET}

# Realtime
REALTIME_JWT_SECRET=${SUPABASE_JWT_SECRET}

# Studio
STUDIO_PG_META_URL=${SUPABASE_PUBLIC_URL}
STUDIO_PG_META_DB_HOST=db
STUDIO_PG_META_DB_PORT=5432
STUDIO_PG_META_DB_NAME=${SUPABASE_DB_NAME}
STUDIO_PG_META_DB_USER=${SUPABASE_DB_USER}
STUDIO_PG_META_DB_PASSWORD=${SUPABASE_DB_PASSWORD}

# Keys (you can generate with openssl or use Supabase CLI; placeholder here)
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

############################
# BOOTSTRAP / PYTHON IMPORTS (optional)
# For repo bootstrap scripts that push workflows into n8n and seed data.
############################
BOOTSTRAP_ENABLE=true
BOOTSTRAP_N8N_BASE_URL=https://${N8N_DOMAIN}
BOOTSTRAP_N8N_API_KEY=${N8N_API_KEY}
# Example: a folder inside the repo where JSON workflows live
BOOTSTRAP_N8N_IMPORT_DIR=/bootstrap/n8n
# Example: model/data seeding toggles
BOOTSTRAP_SEED_MODELS=true
BOOTSTRAP_SEED_QDRANT=true
